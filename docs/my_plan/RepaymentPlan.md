---
title: 还款计划思考
tags:
  - repayment
  - 还款
---

### 参考

[常见的还款方式及其优缺点-参考](https://www.sohu.com/a/309095754_120114588)
[招行计算器](http://www.cmbchina.com/CmbWebPubInfo/Cal_Loan_Per.aspx)
[等额本息计算方式-参考](https://baike.baidu.com/item/%E7%AD%89%E9%A2%9D%E6%9C%AC%E6%81%AF)
[等额本息法-参考](https://baike.baidu.com/item/%E7%AD%89%E9%A2%9D%E6%9C%AC%E6%81%AF%E6%B3%95/11049926?fr=aladdin)


### 还款类型

-   等额本息（日对日）

-   等额本息（固定还款日）

-   先息后本（日对日）

-   先息后本（固定还款日）

-   气球贷（日对日）

-   气球贷（固定还款日）

### 还款日期类型

-   日对日(以月为最小单位计算利息)

-   固定日期还款(以天为最小单位计算利息)

### 1、等额本息（日对日）

`设贷款额为a，剩余本金为p,月利率为i，年利率为I，还款月数为n，每月还款额为b，还款利息总和为Y`

-   每月还款金额计算

>   b = p \* ( (i\*(1+i)\^n) / ((1+i)\^n-1) )

-   每月利息计算

>   p\*i

-   每月还款本金计算

>   b-p\*i

### 1、等额本息（固定还款日）

**特点：第一期相较于**`第二期至最后一期`**的还款金额会有差异，理论上**`第二期至最后一期`**每期的还款金额应该是一样的。**
所以应该是分成2个阶段进行计算

#### 第一个阶段：

>   **每日利息：** 月利息/30

>   **开始日期：**

>   **第一期还款日：** 距离开始日期肯定是要大于30天的。

-   第一期合计利息： (开始日期 - 第一期还款日) * 每日利息

-   第一期还款本金： 借款总金额 / 借款期数

#### 第二个阶段：

**特点：从第二期开始至最后一期，每期还款金额是一样的。**
这里就进行标准的等额本息计算就好了。

>   本金= 借款金额 -（借款金额/借款期数）

>   借款期数= 借款期数-1

### 先息后本（日对日）

-   概述

>   先息后本，是指还款时，每期先偿还贷款利息，在贷款到期后再偿还所有本金。

-   如何计算

>   应该分2个阶段进行计算：`只还利息阶段`和`最后一期`。

-   只还利息阶段 
>还款金额= 借款总金额 \* 月利息

-   最后一期 
>还款金额= 借款总金额 \* 月利息 + 借款总金额

### 先息后本（固定还款日）

-   概述

>   特点：`第一期还款日`和`开始日期`的间隔需大于30天。

-   第一期计算方式

>   还款金额= （月利息 / 30） \* （开始日期 - 第一期还款日）

-   第二期至倒数第二期

>   还款金额= 借款总金额 \* 月利息

-   最后一期

>   还款金额= 借款总金额 \* 月利息 + 借款总金额

### 气球贷（日对日）

>   以96期等额本息，计算每月还款方式。客户实际还款期数为60期，前59期正常还款，最后一期归还所有（正常还款的利息+剩余本金）。

-   前59期

`设贷款额为a，剩余本金为p,月利率为i，年利率为I，还款月数为n，每月还款额为b，还款利息总和为Y`

>   每期还款金额= p \* ( (i\*(1+i)\^n) / ((1+i)\^n-1) )

>   每月利息= p\*i

>   每月还款本金= b-p\*i

-   最后一期

>   还款金额 = 利息（按照96期计算的利息）+ 剩余本金

### 气球贷（固定还款日）

-   第一期

>   还款金额= 每日利息 \* （开始日期 - 第一次还款日期）+ 借款总金额 / 96期

-   第二期至倒数第二期

>   剩余本金= 借款金额 -（借款金额/借款期数）

>   借款期数= 借款期数-1

-   最后一期

>   还款金额 = 剩余本金+（剩余本金 \* 月利息）

### 前端思考

#### 从减少服务器压力的角度

-   前言

>   还款计划在前端生成，仅从后端获取`有还款记录的订单`的`还款记录`，进行组装呈现。
>   [Javascript的io操作](https://www.cnblogs.com/mafeng/p/5225391.html)

-   还款计划类型

>   还没有还款记录的订单、有还款记录的订单。

**还没有还款记录的订单**：这个运算应该放在前端进行计算，并呈现。这样可以有效减少`服务器`和`带宽`的压力。但是这样做对客户端硬件要求应该会挺高的，以当前公司电脑的情况来说，我觉得有点悬。
**有还款记录的订单**：前端发起post请求，只携带`订单标识`，后端仅返回此订单的`还款记录`。前端对数据进行处理组装呈现。

展示效果：（贷款本金为1000，月利率为0.01，还款期数12）
|还款日期| 月还款|月本金|月利息|剩余本金| 
|--|--|--|--|--| 
| 2020年01月21日|87.92|79.59|8.33|920.42| 
| 2020年02月21日|87.92 |80.25|7.67|840.17|

#### 标准

-   描述

>   向后端发起post请求，获取后端生成的还款计划，后端应该以json格式返回，前端处理呈现。携带参数(订单标识、计划开始日期、贷款总金额，贷款期数，月利率，年利率，还款类型，还款日期类型)

### 前端思考

-   向后端发起post请求

-   参数：开始日期，期数，借款总金额，还款日类型（日对日还是固定还款日），还款方式，
    每期还款日（固定还款日）

-   使用element-ui 表格组件

### 前端思考

-   向后端发起post请求

-   参数：开始日期，期数，借款总金额，还款日类型（日对日还是固定还款日），还款方式，
    每期还款日（固定还款日）

-   使用element-ui 表格组件

### 前端思考

-   向后端发起post请求

-   参数：开始日期，还款期数，实际计算期数（气球贷），借款总金额，还款日类型（日对日还是固定还款日），还款方式，
    每期还款日（固定还款日），

-   使用element-ui 表格组件

### 后端思考

### 数据库结构设计思考

<!-- 评论 -->
<Vssue />
